/*!
 * Scrollify
 * Version 1.0.20
 *
 * https://github.com/lukehaas/Scrollify
 *
 * Copyright 2016, Luke Haas
 * Permission is hereby granted, free of charge, to any person obtaining a copy of
 * this software and associated documentation files (the "Software"), to deal in
 * the Software without restriction, including without limitation the rights to
 * use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of
 * the Software, and to permit persons to whom the Software is furnished to do so,
 * subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS
 * FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR
 * COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER
 * IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN
 * CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 */

/* --- babeljs.io and jscompress.com compiled, for debugging and development use dev.scrollify.js --- */

"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(e,t){if("function"==typeof define&&define.amd)return t(document.querySelector,e,e.document);"object"===("undefined"==typeof module?"undefined":_typeof(module))&&module.exports?module.exports=t(document.querySelector,e,e.document):t(document.querySelector,e,e.document)}("undefined"!=typeof window?window:void 0,function(i,h,f,d){var u,s,l,m,p,g,y=[],v=[],S=[],b=[],w=0,r=0,E=1,H=!1,M=h.scrollY,I=!1,O=!1,x=!1,L=!1,T=[],D=(new Date).getTime(),c=!0,N=!1,a=0,k="onwheel"in f?"wheel":f.onmousewheel!==d?"mousewheel":"DOMMouseScroll",q={section:".section",sectionName:"section-name",interstitialSection:"",easing:"easeOutExpo",scrollSpeed:1100,offset:0,scrollbars:!0,target:"html,body",standardScrollElements:!1,setHeights:!0,overflowScroll:!0,updateHash:!0,touchScroll:!0,logging:!1,before:function(){},after:function(){},afterResize:function(){},afterRender:function(){}};function Q(e){var t=1<arguments.length&&arguments[1]!==d&&arguments[1];q.logging&&h.console&&(t?console.warn:console.log)("Scrollify warning: "+e)}function A(e){var r=1<arguments.length&&arguments[1]!==d?arguments[1]:200,i=2<arguments.length&&arguments[2]!==d?arguments[2]:"linear",u=3<arguments.length?arguments[3]:d,c={linear:function(e){return e},easeInQuad:function(e){return e*e},easeInExpo:function(e){return e*(2-e)},easeOutQuad:function(e){return e*(2-e)},easeOutExpo:function(e){return e*(2-e)},easeInOutQuad:function(e){return e<.5?2*e*e:(4-2*e)*e-1},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return--e*e*e+1},easeInOutCubic:function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return 1- --e*e*e*e},easeInOutQuart:function(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return 1+--e*e*e*e*e},easeInOutQuint:function(e){return e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e}},a=h.pageYOffset,s="now"in h.performance?performance.now():(new Date).getTime(),t=Math.max(f.body.scrollHeight,f.body.offsetHeight,f.documentElement.clientHeight,f.documentElement.scrollHeight,f.documentElement.offsetHeight),n=h.innerHeight||f.documentElement.clientHeight||f.getElementsByTagName("body")[0].clientHeight,o="number"==typeof e?e:e.offsetTop,l=Math.round(t-o<n?t-n:o);if("requestAnimationFrame"in h==!1)return h.scroll(0,l),void(u&&u());!function e(){var t="now"in h.performance?performance.now():(new Date).getTime(),n=Math.min(1,(t-s)/r),o=c[i](n);h.scroll(0,Math.ceil(o*(l-a)+a)),h.pageYOffset!==l?requestAnimationFrame(e):u&&u()}()}function C(){return h.innerHeight+q.offset}function R(e,t,n,o){if(r===e&&(n=!1),!0===L)return!0;if(v[e]){if(!(I=!1)===c&&(c=!1,q.afterRender()),n&&"function"==typeof q.before&&!1===q.before(e,S))return!0;if(E=1,a=e?y[e]:0,!1===c&&e<r&&!1===o&&b[e]&&(l=C(),E=parseInt(S[e].outerHeight()/l),a=parseInt(y[e])+(S[e].outerHeight()-l)),q.updateHash&&q.sectionName&&(!0!==c||0!==e))if(history.pushState)try{history.replaceState(null,null,v[e])}catch(e){Q("Page must be hosted to manipulate the hash value.",!0)}else h.location.hash=v[e];if(r=e,t)h.scrollTo(0,a),n&&q.after(e,S);else if(O=!0,A(a,q.scrollSpeed,q.easing,function(){c=O=!1,n&&q.after(e,S)}),h.location.hash.length&&q.sectionName&&h.console)try{h.location.hash.length&&Q("ID matches hash value - this will cause the page to anchor.",!0)}catch(e){}}}function Y(r){function e(e){for(var t=0,n=r.slice(Math.max(r.length-e,1)),o=0;o<n.length;o++)t+=n[o];return Math.ceil(t/e)}var t=e(10);return e(70)<=t}var e=function e(t){N=!0,(e.easing=[]).easeOutExpo=function(e,t,n,o,r){return t==r?n+o:o*(1-Math.pow(2,-10*t/r))+n},p={touches:{touchstart:{y:-1,x:-1},touchmove:{y:-1,x:-1},touchend:!(m={handleMousedown:function(){if(!0===L)return!0;x=I=!1},handleMouseup:function(){if(!0===L)return!0;I=!0,x&&m.calculateNearest(!1,!0)},handleScroll:function(){if(!0===L)return!0;u&&clearTimeout(u),u=setTimeout(function(){if(!(x=!0)===I)return!1;I=!1,m.calculateNearest(!1,!0)},200)},calculateNearest:function(e,t){M=h.pageYOffset|f.body.scrollTop;for(var n,o=1,r=y.length,i=0,u=Math.abs(y[0]-M);o<r;o++)(n=Math.abs(y[o]-M))<u&&(u=n,i=o);(a()&&w<i||c())&&R(w=i,e,t,!1)},wheelHandler:function(e){if(!0===L)return!0;if(q.standardScrollElements&&(e.target.matches(q.standardScrollElements)||e.target.closest(q.standardScrollElements).length))return!0;b[w]||e.preventDefault();var t=(new Date).getTime(),n=(e=e||h.event).wheelDelta||-e.deltaY||-e.detail,o=Math.max(-1,Math.min(1,n));if(149<T.length&&T.shift(),T.push(Math.abs(n)),200<t-D&&(T=[]),D=t,O)return!1;if(o<0){if(w<y.length-1&&a()){if(!Y(T))return!1;e.preventDefault(),R(++w,!(O=!0),!0,!1)}}else if(0<o&&0<w&&c()){if(!Y(T))return!1;e.preventDefault(),R(--w,!(O=!0),!0,!1)}},keyHandler:function(e){return!0===L||!1===f.activeElement.readOnly||(!(!q.standardScrollElements||!e.target.matches(q.standardScrollElements)&&!e.target.closest(q.standardScrollElements).length)||!0!==O&&void(38==e.keyCode||33==e.keyCode?0<w&&c()&&(e.preventDefault(),R(--w,!1,!0,!1)):40!=e.keyCode&&34!=e.keyCode||w<y.length-1&&a()&&(e.preventDefault(),R(++w,!1,!0,!1))))},init:function(){q.scrollbars?(h.addEventListener("mousedown",m.handleMousedown),h.addEventListener("mouseup",m.handleMouseup),h.addEventListener("scroll",m.handleScroll)):f.body.style.overflow="hidden",h.addEventListener(k,m.wheelHandler,{passive:!1}),h.addEventListener("keydown",m.keyHandler)}}),direction:"undetermined"},options:{distance:30,timeGap:800,timeStamp:(new Date).getTime()},touchHandler:function(e){if(!0===L)return!0;if(q.standardScrollElements&&(e.target.matches(q.standardScrollElements)||e.target.closest(q.standardScrollElements).length))return!0;var t;if(void 0!==e&&void 0!==e.touches)switch(t=e.touches[0],e.type){case"touchstart":p.touches.touchstart.y=t.pageY,p.touches.touchmove.y=-1,p.touches.touchstart.x=t.pageX,p.touches.touchmove.x=-1,p.options.timeStamp=(new Date).getTime(),p.touches.touchend=!1;case"touchmove":p.touches.touchmove.y=t.pageY,p.touches.touchmove.x=t.pageX,p.touches.touchstart.y!==p.touches.touchmove.y&&Math.abs(p.touches.touchstart.y-p.touches.touchmove.y)>Math.abs(p.touches.touchstart.x-p.touches.touchmove.x)&&(e.preventDefault(),p.touches.direction="y",p.options.timeStamp+p.options.timeGap<(new Date).getTime()&&0==p.touches.touchend&&(p.touches.touchend=!0,-1<p.touches.touchstart.y&&Math.abs(p.touches.touchmove.y-p.touches.touchstart.y)>p.options.distance&&(p.touches.touchstart.y<p.touches.touchmove.y?p.up():p.down())));break;case"touchend":!1===p.touches[e.type]&&(p.touches[e.type]=!0,-1<p.touches.touchstart.y&&-1<p.touches.touchmove.y&&"y"===p.touches.direction&&(Math.abs(p.touches.touchmove.y-p.touches.touchstart.y)>p.options.distance&&(p.touches.touchstart.y<p.touches.touchmove.y?p.up():p.down()),p.touches.touchstart.y=-1,p.touches.touchstart.x=-1,p.touches.direction="undetermined"))}},down:function(){w<y.length&&(a()&&w<y.length-1?R(++w,!1,!0,!1):(l=C(),Math.floor(S[w].height()/l)>E?(n(parseInt(y[w])+l*E),E+=1):n(parseInt(y[w])+(S[w].outerHeight()-l))))},up:function(){0<=w&&(c()&&0<w?R(--w,!1,!0,!1):2<E?(l=C(),E-=1,n(parseInt(y[w])+l*E)):(E=1,n(parseInt(y[w]))))},init:function(){if(f.addEventListener&&q.touchScroll){var e={passive:!1};f.addEventListener("touchstart",p.touchHandler,e),f.addEventListener("touchmove",p.touchHandler,e),f.addEventListener("touchend",p.touchHandler,e)}}},g={refresh:function(e,t){clearTimeout(s),s=setTimeout(function(){o(!0),r(t,!1),e&&q.afterResize()},400)},handleUpdate:function(){g.refresh(!1,!1)},handleResize:function(){g.refresh(!0,!1)},handleOrientation:function(){g.refresh(!0,!0)}};function n(e){A(e,q.scrollSpeed,q.easing,function(){})}function o(e){e&&(M=h.pageYOffset||(f.documentElement||f.body.parentNode||f.body).scrollTop);var t=q.section;b=[],q.interstitialSection.length&&(t+=","+q.interstitialSection),!1===q.scrollbars&&(q.overflowScroll=!1),l=C(),f.querySelectorAll(t).forEach(function(e,t){q.setHeights?q.interstitialSection&&e.matches(q.interstitialSection)?b[t]=!1:(e.style.height="auto",e.offsetHeight<l||"hidden"===e.style.overflow?(e.style.height="".concat(l.toString(),"px"),b[t]=!1):(e.style.height="".concat(e.offsetHeight.toString(),"px"),q.overflowScroll?b[t]=!0:b[t]=!1)):e.offsetHeight<l||!1===q.overflowScroll?b[t]=!1:b[t]=!0}),e&&h.scrollTo(M,0)}function r(e,t){var n=q.section,o=function(e){var t=e.getBoundingClientRect();return{top:t.top+f.body.scrollTop,left:t.left+f.body.scrollLeft}};q.interstitialSection.length&&(n+=","+q.interstitialSection),y=[],v=[],S=[],f.querySelectorAll(n).forEach(function(e,t){y[t]=0<t?parseInt(o(e).top)+q.offset:parseInt(o(e).top),q.sectionName&&e.getAttribute(q.sectionName)?v[t]="#"+e.getAttribute(q.sectionName).toString().replace(/ /g,"-"):q.interstitialSection&&!1===e.matches(q.interstitialSection)?v[t]="#"+(t+1):(v[t]="#",t===f.querySelectorAll(n).length-1&&1<t&&(y[t]=y[t-1]+(parseInt(i(i(n)[t-1]).outerHeight())-parseInt(h.innerHeight()))+parseInt(e.outerHeight()))),S[t]=e;try{i(v[t]).length&&h.console&&Q("Section names can't match IDs - this will cause the browser to anchor.",!0)}catch(e){}h.location.hash===v[t]&&(w=t,H=!0)}),!0===e&&R(w,!1,!1,!1)}function c(){return!b[w]||!((M=h.scrollTop())>parseInt(y[w]))}function a(){return!b[w]||(M=h.scrollTop(),l=C(),!(M<parseInt(y[w])+(S[w].outerHeight()-l)-28))}q=function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}(q,t),o(!1),r(!1,!0),!0===H?R(w,!1,!0,!0):setTimeout(function(){m.calculateNearest(!0,!1)},200),y.length&&(m.init(),p.init(),h.addEventListener("resize",g.handleResize),f.addEventListener&&h.addEventListener("orientationchange",g.handleOrientation,!1))};function t(e,t){for(var n=v.length;0<=n;n--)"string"==typeof e?v[n]===e&&R(w=n,t,!0,!0):n===e&&R(w=n,t,!0,!0)}return e.move=function(e){if(e===d)return!1;"number"==typeof e?R(e,!1,!0,!0):"string"==typeof e&&"#"===e.substr(0,1)&&t(e,!1)},e.instantMove=function(e){if(e===d)return!1;"number"==typeof e?R(e,!0,!0,!0):"string"==typeof e&&"#"===e.substr(0,1)&&t(e,!0)},e.next=function(){w<v.length&&R(w+=1,!1,!0,!0)},e.previous=function(){0<w&&R(w-=1,!1,!0,!0)},e.instantNext=function(){w<v.length&&R(w+=1,!0,!0,!0)},e.instantPrevious=function(){0<w&&R(w-=1,!0,!0,!0)},e.destroy=function(){if(!N)return!1;q.setHeights&&f.querySelectorAll(q.section).forEach(function(e){e.style.height="auto"}),h.removeEventListener("resize",g.handleResize),q.scrollbars&&(h.removeEventListener("mousedown",m.handleMousedown),h.removeEventListener("mouseup",m.handleMouseup),h.removeEventListener("scroll",m.handleScroll)),h.removeEventListener(k,m.wheelHandler),h.removeEventListener("keydown",m.keyHandler),f.addEventListener&&q.touchScroll&&(f.removeEventListener("touchstart",p.touchHandler,!1),f.removeEventListener("touchmove",p.touchHandler,!1),f.removeEventListener("touchend",p.touchHandler,!1)),y=[],v=[],S=[],b=[]},e.update=function(){if(!N)return!1;g.handleUpdate()},e.current=function(){return S[w]},e.currentIndex=function(){return w},e.disable=function(){L=!0},e.enable=function(){L=!1,N&&m.calculateNearest(!1,!1)},e.isDisabled=function(){return L},e.getOptions=function(){return q},e.setOptions=function(e){if(!N)return!1;if("object"===_typeof(e)){return q=function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}(q,e),void g.handleUpdate()}Q("setOptions expects an object.",!0)},h.scrollify=e});